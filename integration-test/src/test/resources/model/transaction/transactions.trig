GRAPH dbeerpedia:Theatre {

  # Transaction: replace resource from graph
  dbeerpedia:InsertConcept a elmo:Transaction;
    elmo:sequentialFlow (
      dbeerpedia:PreUpdateStep
      dbeerpedia:PersistenceStep
      dbeerpedia:PostUpdateStep
    );
  .
  dbeerpedia:PreUpdateStep a elmo:UpdateStep;
    elmo:backend elmo:TransactionRepository;
    elmo:query """
      INSERT DATA
        {
        <http://dbeerpedia.org#davo> <http://www.w3.org/2000/01/rdf-schema#label>
        \"Davo brouwerij Deventer\"
        };
    """
  .
  dbeerpedia:PersistenceStep a elmo:PersistenceStep;
    elmo:persistenceStrategy elmo-sp:InsertIntoGraph;
    elmo:backend dbeerpedia:Backend;
    elmo:targetGraph <http://dotwebstack.org/all-concepts>;
  .
  dbeerpedia:PostUpdateStep a elmo:UpdateStep;
    elmo:backend dbeerpedia:Backend;
    elmo:query """
      INSERT DATA
        {
        <http://dbeerpedia.org#davo> <http://www.w3.org/2000/01/rdf-schema#label>
        \"Davo brouwerij Deventer\"
        };
    """
  .
  # Transaction: (test reading list with blank nodes)
  dbeerpedia:InsertConcept2 a elmo:Transaction;
    elmo:sequentialFlow (
    [ a elmo:UpdateStep;
      elmo:backend elmo:TransactionRepository;
      elmo:query """
        INSERT DATA
        {
        <http://dbeerpedia.org#davo> <http://www.w3.org/2000/01/rdf-schema#label>
        \"Davo brouwerij Deventer\"
        };
      """
    ]
    [ a elmo:PersistenceStep;
      elmo:persistenceStrategy elmo-sp:InsertIntoGraph;
      elmo:backend dbeerpedia:Backend;
      elmo:targetGraph <http://dotwebstack.org/all-concepts>;
    ])
  .
}
